# Halfminer Bot
Teamspeak 3 Bot for Minecraft Server [Two and a half Miner](https://halfminer.de).
Connecting to query via [API](https://github.com/TheHolyWaffle/TeamSpeak-3-Java-API).

Current features
-------
- Configurable via YAML based config file
  - Query password can either be passed as command line argument or be set via config
- Bot messages are fully configurable/localizable
- Automatic reconnect if connection is lost
- Define channel for bot to join, stays persistent if moved out
- Permission system
  - Define what client belongs to which group via their talk power
  - Higher groups automatically inherit all permissions of lower groups
  - Permission changes are always logged
- Command chat interface with !<command>
  - Bot welcomes (server and/or channel) joining clients with private message
    - Server join message can be disabled
  - Command flood protection (optional bypass permission)
  - Default command if none supplied is !channel, to make channel creation easier
  - Permission to use command necessary
- **Commands**
  - !admin
    - Lookup player information via username or client id
    - Reload the config file
      - Won't reload if file was not modified or if it is in invalid format
    - Restart (full reconnect) or shut the bot down
  - !broadcast
    - Broadcast a given message to all clients
    - Optional talk power requirement can be passed as flag
      - Example: "!broadcast -200 hi this will be broadcast" will broadcast to everybody with at least 200 talk power
    - Broadcast format configurable via locale file
      - Adds server group and broadcaster to message
  - !channel
    - Create channels for users
      - Gives channel admin to the creating user
        - Set group ID via config
      - Adds username to the channelname
      - Sets the channel as temporary
        - Stays persistent for set amount of seconds (config)
        - Detect if user already has a channel, automatically move user to his channel on join/chat/move
    - Update a users channel password
      - Will kick all players from channel after changing password
    - Sets given parameter as password
  - !help
    - Sends list containing every available command per client
      - Checks if client has permission
      - Sends correct usage and description
    - When calling !help <querypassword> highest available group will be granted (can be disabled)
  - !rank
    - Automatic retrieval of ranks after querying Halfminer REST API for privileges
    - Removes old server group, even if a different identity was used
- **Scheduled tasks**
  - *Periodically check for inactive users*
    - Move them into AFK channel
    - If server is full, kick AFK users to make room
      - Configure amount of players to kick at once
    - Exempt clients via permissions via permissions
  - *Send current status to API via HTTP PUT*
